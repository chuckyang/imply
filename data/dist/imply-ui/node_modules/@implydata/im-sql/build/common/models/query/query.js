"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var lz_string_1=require("lz-string");var beltful_1=require("@implydata/beltful");var immutable_class_1=require("immutable-class");var Query=function(e){tslib_1.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.isQuery=function(e){return e instanceof t};t.fromJS=function(e){return new t(immutable_class_1.BaseImmutable.jsToValue(t.PROPERTIES,e))};t.fromHash=function(e){try{return t.fromJS({value:lz_string_1.decompressFromBase64(beltful_1.StringUtils.untidyB64(e))})}catch(e){console.error("error with query from hash, "+e.message);return null}};t.prototype.toHash=function(){var e=this.toJS();return beltful_1.StringUtils.tidyB64(lz_string_1.compressToBase64(e.value))};t.prototype.toExplain=function(){return this.changeValue("EXPLAIN PLAN FOR "+this.getValue())};t.PROPERTIES=[{name:"value",defaultValue:""}];return t}(immutable_class_1.BaseImmutable);exports.Query=Query;immutable_class_1.BaseImmutable.finalize(Query);