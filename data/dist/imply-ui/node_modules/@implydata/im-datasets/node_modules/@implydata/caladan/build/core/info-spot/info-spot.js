"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");var classNames=require("classnames");var React=require("react");var info_manager_1=require("../info-manager/info-manager");var InfoSpot=function(e){tslib_1.__extends(n,e);function n(){var n=e.call(this)||this;n.onManagerEvent=function(e){if(!n._mounted)return;var t=n.props.sourceIds;if(e&&t.indexOf(e.sourceId)>-1){n.setState({info:e})}else{n.setState({info:undefined})}};n.state={};info_manager_1.InfoManager.subscribe(n.onManagerEvent);return n}n.prototype.componentDidMount=function(){this._mounted=true};n.prototype.componentWillUnmount=function(){this._mounted=false};n.prototype.render=function(){var e=this.props.bubbly;var n=this.state.info;if(!n)return null;var t=n.lines.map(function(e){return"<p>"+e+"</p>"}).join("");var o=n.title;return React.createElement("div",{className:classNames("info-spot",{"in-modal":e}),onMouseOver:info_manager_1.InfoManager.stick,onMouseOut:info_manager_1.InfoManager.unstick},o?React.createElement("div",{className:"info-spot-title"},o):null,React.createElement("div",{className:"info-spot-content",dangerouslySetInnerHTML:{__html:t}}))};return n}(React.Component);exports.InfoSpot=InfoSpot;