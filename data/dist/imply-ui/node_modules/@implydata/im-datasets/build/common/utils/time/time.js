"use strict";Object.defineProperty(exports,"__esModule",{value:true});var moment=require("moment-timezone");var general_1=require("../general/general");var EXAMPLE_DATE_ISO="2015-10-29T23:00:00.000Z";var EXAMPLE_DATE_VALUE=Date.parse(EXAMPLE_DATE_ISO);var MIN_MILLIS=315576e6;var MAX_MILLIS=EXAMPLE_DATE_VALUE*10;var MIN_POSIX=MIN_MILLIS/1e3;var MAX_POSIX=MAX_MILLIS/1e3;exports.ISO_MATCHER=new RegExp(/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))(T((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)$/);exports.JODA_TO_MOMENT_LOOKUP={"d/M/yyyy":"D/M/YYYY","d-M-yyyy hh:mm:ss a":"DD-M-YYYY hh:mm:ss A","MM/dd/YYYY":"MM/DD/YYYY","M/d/YY":"M/D/YY","MM/dd/YYYY hh:mm:ss a":"MM/DD/YYYY hh:mm:ss A","YYYY-MM-dd HH:mm:ss":"YYYY-MM-DD HH:mm:ss","YYYY-MM-dd HH:mm:ss.S":"YYYY-MM-DD HH:mm:ss.S"};function listToTimeDropdown(list){var date=new Date(EXAMPLE_DATE_VALUE);var getExample=function(format){if(exports.JODA_TO_MOMENT_LOOKUP[format])return moment(date).format(exports.JODA_TO_MOMENT_LOOKUP[format]);switch(format){case"iso":return EXAMPLE_DATE_ISO;case"millis":return Date.parse(EXAMPLE_DATE_ISO);case"posix":return Math.floor(EXAMPLE_DATE_VALUE/1e3);default:return date}};var getLabel=function(format){return format+" ("+getExample(format)+")"};return general_1.listToDropdown(list,getLabel)}exports.listToTimeDropdown=listToTimeDropdown;function timeFormatMatches(format,value){if(exports.JODA_TO_MOMENT_LOOKUP[format]){format=exports.JODA_TO_MOMENT_LOOKUP[format]}if(format==="iso"){return new RegExp(exports.ISO_MATCHER).test(value)}if(format==="millis"){var absValue=Math.abs(value);return MIN_MILLIS<absValue&&absValue<MAX_MILLIS}if(format==="posix"){var absValue=Math.abs(value);return MIN_POSIX<absValue&&absValue<MAX_POSIX}return moment(value,format,true).isValid()}exports.timeFormatMatches=timeFormatMatches;