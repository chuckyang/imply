"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");require("./prefixed-input.css");var React=require("react");var classNames=require("classnames");var ADDITIONAL_LEFT_PADDING=5;var PrefixedInput=function(_super){tslib_1.__extends(PrefixedInput,_super);function PrefixedInput(){var _this=_super.call(this)||this;_this.state={};return _this}PrefixedInput.prototype.initFromProps=function(props){if(this.prefixDOM){this.setState({prefixWidth:this.prefixDOM.getBoundingClientRect().width})}};PrefixedInput.prototype.componentDidMount=function(){this.initFromProps(this.props)};PrefixedInput.prototype.componentWillReceiveProps=function(nextProps){if(nextProps.prefix&&nextProps.prefix!==this.props.prefix){this.initFromProps(nextProps)}};PrefixedInput.prototype.onChange=function(event){var _a=this.props,prefix=_a.prefix,onChange=_a.onChange;var newValue=event.target.value;if(newValue.startsWith(prefix)){newValue=newValue.substr(prefix.length)}onChange(newValue)};PrefixedInput.prototype.render=function(){var _this=this;var _a=this.props,prefix=_a.prefix,value=_a.value;var prefixWidth=this.state.prefixWidth;return React.createElement("div",{className:classNames("prefixed-input")},React.createElement("input",{style:{paddingLeft:(prefixWidth||0)+ADDITIONAL_LEFT_PADDING},value:value,onChange:this.onChange.bind(this)}),React.createElement("span",{ref:function(e){return _this.prefixDOM=e}},prefix))};return PrefixedInput}(React.Component);exports.PrefixedInput=PrefixedInput;