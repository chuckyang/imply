"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=require("tslib");require("./datasets-header-bar.css");var React=require("react");var Icons=require("@implydata/little-pictures");var imply_ui_common_1=require("@implydata/imply-ui-common");var caladan_1=require("@implydata/caladan");var DatasetsHeaderBar=function(_super){tslib_1.__extends(DatasetsHeaderBar,_super);function DatasetsHeaderBar(){var _this=_super.call(this)||this;_this.renderUserMenu=function(target,onClose){var user=_this.props.user;var compass=imply_ui_common_1.Compass.getInstance();return React.createElement(caladan_1.UserBubbleMenu,{openOn:target,userLabel:user?user.getDisplayName():"-",userDescription:user?user.email:"-",profileHref:compass.getProfileHref(),logoutHref:compass.getLogoutHref(),links:compass.getUserMenuLinks(),onClose:onClose,menuOffset:-3})};_this.state={};return _this}DatasetsHeaderBar.prototype.render=function(){var _a=this.props,user=_a.user,onNavClick=_a.onNavClick,title=_a.title,subNav=_a.subNav,mainSvg=_a.mainSvg;var headerStyle=null;var leftChildren=caladan_1.HeaderBar.burgerButton([Icons.FUTURA_IMPLY],onNavClick).slice();if(subNav){leftChildren.push(React.createElement("div",{key:"sub-nav",className:"sub-nav"},subNav))}var rightChildren=[];var compass=imply_ui_common_1.Compass.getInstance();var neighbors=compass.neighbors;if(neighbors&&neighbors.length>0){rightChildren.push(React.createElement(caladan_1.BubbleButton,{title:(neighbors.find(function(n){return n.selected})||neighbors[0]).label,key:"neighbors",className:"neighbors",type:"light-inverted",showCaret:true,items:neighbors.map(function(n,i){return React.createElement(caladan_1.BubbleMenuItem,{type:"light",key:i,label:n.label,href:n.href,selected:n.selected,svg:n.icon})}),menuOffset:-4}))}if(!compass.getSuppressUserIcon()){rightChildren.push(React.createElement(caladan_1.BubbleButton,{key:"user-button",className:"user-button",type:"light-inverted",svg:Icons.FULL_PROFILE,renderMenu:this.renderUserMenu,tooltip:"Me"}))}return React.createElement(caladan_1.HeaderBar,{className:"datasets-header-bar",style:headerStyle,leftChildren:leftChildren,rightChildren:rightChildren})};return DatasetsHeaderBar}(React.Component);exports.DatasetsHeaderBar=DatasetsHeaderBar;