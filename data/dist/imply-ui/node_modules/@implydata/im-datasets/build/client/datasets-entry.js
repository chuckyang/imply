"use strict";Object.defineProperty(exports,"__esModule",{value:true});require("./entry.css");require("es6-shim/es6-shim");require("es7-shim");var js_base64_1=require("js-base64");var React=require("react");var ReactDOM=require("react-dom");var im_auth_1=require("@implydata/im-auth");var imply_ui_common_1=require("@implydata/imply-ui-common");var beltful_1=require("@implydata/beltful");var ajax_1=require("@implydata/ajax");var datasets_view_1=require("./views/datasets-view/datasets-view");ajax_1.Ajax.addErrorMonitor();var configStr=window["__CONFIG__"];if(!configStr)throw new Error("config not found");var config=JSON.parse(js_base64_1.Base64.decode(configStr));ajax_1.Ajax.mountPoint=config.mountPoint?"/"+config.mountPoint:"";beltful_1.MountPoint.setRoot(ajax_1.Ajax.mountPoint);imply_ui_common_1.Compass.init(config.compass);var cont=document.getElementsByClassName("app-container")[0];var user=config.user,exampleDatasets=config.exampleDatasets,taskId=config.taskId,supervisorId=config.supervisorId,supportsLocalFileUpload=config.supportsLocalFileUpload,lastEventTimeMaxLength=config.lastEventTimeMaxLength;if(cont){ReactDOM.render(React.createElement(datasets_view_1.DatasetsView,{user:im_auth_1.User.fromJS(user),exampleDatasets:exampleDatasets,taskId:taskId,supervisorId:supervisorId,supportsLocalFileUpload:supportsLocalFileUpload,lastEventTimeMaxLength:lastEventTimeMaxLength}),cont)}