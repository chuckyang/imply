"use strict";Object.defineProperty(exports,"__esModule",{value:true});var DRUID_REQUEST_DECORATOR_MODULE_VERSION=1;var Decorators=function(){function Decorators(options){this.decoratorFactories={};this.logger=options.logger;var decorators=options.decorators;var decoratorFactories={};for(var k in decorators){decoratorFactories[k]=this.makeDecoratorFactory(k,decorators[k])}this.decoratorFactories=decoratorFactories}Decorators.prototype.makeDecoratorFactory=function(name,decorator){var logger=this.logger;logger.log("Loading requestDecorator '"+name+"' from '"+decorator+"'");var requestDecoratorModule;try{requestDecoratorModule=require(decorator)}catch(e){throw new Error("error loading druidRequestDecorator module from '"+decorator+"': "+e.message)}if(requestDecoratorModule.version!==DRUID_REQUEST_DECORATOR_MODULE_VERSION){throw new Error("druidRequestDecorator module '"+decorator+"' has incorrect version")}return requestDecoratorModule};Decorators.prototype.getDecoratorModule=function(name){return this.decoratorFactories[name]};return Decorators}();exports.Decorators=Decorators;